# 01-什么是文档流

为什么需要这个？
其实这不过是解析文档的时候默认的规则，只不过这个规则表现出来的形式，我们就叫做文档流

> 就像 水往 低处流一样，是由于重力的原因，儿浏览器对 HTML 的解析规则（Layout、Paint、Layered）就是“重力”

## 文档流（normal flow）

通常我们叫的文档流是默认的文档流（文档流不止一个，每个 layered 就有一个文档流），这个默认的文档流规定了

- 元素类别
  - 块元素
  - 行内块元素
  - 行内元素

的各种行为：

- 元素尽量的往左上角靠拢，紧挨
- 块元素独占一行（文档流壁垒）
- 行内元素一行排列，不够换行，行高由行内最高的元素决定
  - 底线
  - 中线
  - 基线
  - 底线

在这些规则下，所有的元素从左往右，从上往下，依次的排列，形成了最为普通的文档流 **Normal Flow**

## 跳脱引力 => 脱离文档流

- position 为 absolute、fixed
- float

作用了这些样式的元素都会脱离普通的文档流，建立自己新的文档流，新的 layer，那按道理元素设置样式之后应该会跑到最上面，但是由于他们还是 BFC，不能和“正常的文档流元素”重叠，因此 float 一般情况下单独设置，对前面的元素和上面的元素是没有影响的，也不会往上排列

总结：这两个元素作用之后的效果

- 脱离文档流，建立新的 layer，新的文档流
- 属于 BFC，对前面的，上面的元素默认不会产生影响（覆盖）

## 不同的样式不同的 layer 和不同的文档流

- float 的 layer

  ```html
  <style>
    .left {
      float: left;
    }
  </style>

  <div class="container">
    <div class="left"></div>
    <div class="main"></div>
  </div>
  ```

  可以看到，main 被压在 left 下面

  ```html
  <style>
    .left {
      float: left;
    }
    .main {
      float: left;
    }
  </style>

  <div class="container">
    <div class="left" style="width: 200px; height: 200px"></div>
    <div class="main" style="width: 100% ; height: 200px"></div>
  </div>
  ```

  main 也浮动了，而且它紧挨着 left（往左，往上挤）

- position 得 layer 和浮动是一致的效果
- float 的 layer 和 position 的 layer

  ```html
  <style>
    .left {
      float: left;
    }
    .main {
      float: left;
    }
  </style>

  <div class="container">
    <div class="left" style="width: 200px; height: 200px"></div>
    <div class="main" style="width: 100% ; height: 200px"></div>
  </div>
  ```

  改变一下 main 的样式

  ```html
  <style>
    .left {
      float: left;
    }
    .main {
      position: absolute;
    }
  </style>

  <div class="container">
    <div class="left" style="width: 200px; height: 200px"></div>
    <div class="main" style="width: 100% ; height: 200px"></div>
  </div>
  ```

  position 的 main 直接的覆盖了 float 的 left
