# 02-圣杯布局和双飞翼布局

圣杯布局和双飞翼布局是三栏（左右定宽，中间自适应）的今典

> 这两个布局都是在 Float 流行、弹性布局未出现的情况下出现的，很考验开发者对文档流的认识

## 圣杯布局

先贴代码

```html
<style>
  .container {
    overflow: hidden;
    padding: 0 200px 0 200px;
  }

  .main {
    float: left;
    width: 100%;
    height: 200px;
    background-color: #ddd;
  }

  .left {
    float: left;
    width: 200px;
    height: 200px;
    background-color: #da4242;
    /* 产生布局效果的属性 */
    margin-left: -100%;
    position: relative;
    left: -200px;
  }

  .right {
    float: left;
    width: 200px;
    height: 200px;
    background-color: #4ddef1;
    /* 产生布局效果的属性 */
    margin-left: -200px;
    position: relative;
    left: 200px;
  }
</style>

<div class="container">
  <div class="main">main</div>
  <div class="left">left</div>
  <div class="right">right</div>
</div>
```

假设我们把 “产生布局效果的属性” 属性代码注释，看到的情况是，main 在最上面，由于 padding 效果整个 container 盒子的 文档流的左上角 是 padding-content 的左上角 且 left、right、main 脱离文档流。

在这种情况下，我们只要通过外力“定位或者移动”改变普通的文档流把 left 移到最左边、把 right 移到最右边

left 怎么移动，

- 确立 left、main、right 所在的文档流的宽度为 100%container - paddingLeft - paddingRight 的宽度

- margin-left: -100%; left 移动自身所在文档流的 100%宽度，其实就是整个 main 的宽度，这个时候 left 已经和 main 的最左边重合，只需要把 left 往左再移动 自身长度 就移出 main 的视线，不会挡住 main （注意，margin-left 会移动 元素的文档流（它在 float 的 layer 的文档流），也就是说现在 margin 的身位是确定的）

- position:relative; + left: leftWidth; 把 left 向左移它本身的宽度，注意 relative 不脱离文档流，因此实际占领的位置是空的，真实的身位还是 main 那边

> 总结圣杯布局的核心要点：

- 三元素 float
- padding 把 container 压缩两边，留位置给 left 和 right
- 移动 left、right 到两边

> 遗留问题：leftWidth\*2 + rightWidth 的距离的时候触发边界，因为 left 元素的 身位处于 leftWidth（paddingLeft）处，加上自己的 leftWidth，再加上 right 的身位 rightWidth

## 双飞翼布局

实现

```javascript
<style>
  .container {
      overflow: hidden;
  }

  .main {
      float: left;
      width: 100%;
      height: 200px;
      background-color: #ddd;

  }

  .main-content {
      margin: 0 200px;
  }

  .left {
    float: left;
    width: 200px;
    height: 200px;
    background-color: #da4242;
    /* 产生布局效果的属性 */
    margin-left: -100%;
  }

  .right {
    float: left;
    width: 200px;
    height: 200px;
    background-color: #4ddef1;
    /* 产生布局效果的属性 */
    margin-left: -200px;
  }
</style>

<div class="container">
  <div class="main">
    <div class="main-content">main</div>
  </div>
  <div class="left">
    left
  </div>
  <div class="right">
    right
  </div>
</div>
```

> 双飞翼实现要点

- 三元素 float
- main-content 被 main 套了一层，并且用 margin 撑开（外面的 main 不能直接使用 margin 是因为浮动之后脱离文档流，margin 使用规则不一样）
- left 和 right 同样使用 position + margin 移动
