# 文件预览

## 图片上传时预览

### (1) window.URL.createObjectURL
```javascript
img.src =  window.URL.createObjectURL(files[i])
img.onload = function(){
  window.URL.revokeObjectURL(this.src) // 清除对象
  // 注意createObjectURL返回url，在操作它的时候，操作的是url对应的内存的对象
  // 图片在拿到对象的时候自动保存解析为像素，所以要清除原内存对象
}
```

### (2) window.URL.createObjectURL
```javascript
let reader = new FileReader()
reader.readAsDataURL(file)
reader.onload = function (e) {
  //作为回调函数，在回调时用call或者apply回调onload函数
  img.src = e.target.result
}
```