# 富文本编辑器技术选型
首先明确自己的目标

- 开发，开发选底层实现（底层越优秀，你的上层应用就越好）、了解原理上的坑（怎么实现，实现的基础原理）

- 应用，应用尽量选功能强大（至少要满足自己的基本需求），高度的可以配置，高度的可拓展性、社区是否丰富（用的人是不是很多、与其相关的插件是否较多、历史是不是很久、是不是一直在维护）、学习成本怎么样（是否简单易用）、性能怎么样、浏览器是否能兼容、是否支持跨平台、是否和当前使用技术契合（比如是否有TS版本）

## 如何调查
- 工具的官网上，一般都会和其它的同类型工具对比，了解每个工具的特色
- 去上网浏览、该编辑器是否留有坑未解决、当前的生态（加上插件）是否满足你的功能（比如Draft.js 就没用直接的支持表格，需要自己实现）


## 几款入眼的对比
- wangEditor，轻量简洁，最重要的是开源且中文文档齐全。设计的UI漂亮。插件基本能满足需求，（无法直接复制Word的图片、支持拖拽图片上传、对表格的支持不错）

- Draft.js 的硬伤在于性能和体验，根源在于它底层的设计和富文本的描述 schema  [淘宝内容平台的富文本编辑器](https://www.zhihu.com/question/404836496/answer/1318402632)，Draft更像一个编辑器底层架构，它直接基于React
- Ueditor，优点：插件多，基本满足各种需求，类似贴吧中的回复界面。
  缺点：不再维护，文档极少，使用并不普遍，图片只能上传到本地服务器，如果需要上传到其他服务器需要改动源码，较为难办，加载速度慢。


## 入坑的两款Quill，CkEditor
先说说Quill，本身是有一个react-quill的包，直接支持React的写法，但是当引入quill-better-tale插件的时候，发现报错，并且还未解决（因此弃用，直接不支持表格了），于是后来导师叫我尝试quill，选取DOM，并挂载，这种写法还是支持quill-better-table插件的。因此打算深入了解一波Quill

CkEditor 是在深入Quill，感觉Quill给我的感觉一般，觉得可能CkEditor的使用体验更好（不过不得不说，英文文档还是特别劝退的）

## 说说Quill
[quill 英文官网](https://quilljs.com/docs/quickstart/)
quill 主要涉及多个模块
一个编辑器界面由，输入框和工具栏

- 工具栏（toolbar）涉及到工具栏的配置（作用：用户是否可以选定内容格式化）：比如用户是否能够加粗一段文档，需要有对于的按钮，再比如图片上传、视频上传、添加链接等功能

- 格式化内容（fromats）：用户可能直接粘贴复制内容，对于内容的解析是否具有那些功能，比如是否可以识别粗体直接显示（它和toolbar的区别在于，toolbar是不会对用户的输入进行过滤，只是限制用户不允许干什么操作；fromats 格式化是对用户输入的内容 直接的进行过滤（这种过滤是格式的过滤，仍然会留下文字内容）

- 涉及的API：
  - content 内容操作，获取和转换
  - Selection 当前用户的选取，用户选择的内容
  - Editor 对编辑区的一些操作，比如focus
  - Extension 拓展，一些插件
  - Events 事件触发，比如监听编辑区的输入
  - Formatting 对 fromats配置的操作，手动去除和添加
  - Model 查找Editor元素内的节点的信息

- delta 是数据元，如何存储数据
- modules 是对quill的功能的扩展的配置，quill可以先注册module，再在modules里对插件进行一些配置， 丰富quill的功能，（当然如果是quill的内置插件，直接配置就好，不需要注册）
- theme 主题的定制，但是这个定制就只有几种可选

提一下对Quill感觉到有趣的地方：
- Quill可以自己定制toolbar的DOM内容，但是需要给对于的DOM添加class便于Quill做内部的事件绑定匹配。比如，